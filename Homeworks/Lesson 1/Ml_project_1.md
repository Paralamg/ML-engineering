# Проект 2: Ускоренеие расчета физической модели трубопроводной сети системы газоснабжения.

# 1.  Бизнес-анализ (Business Understanding)

Бизнес-цель проекта:

Расчет трубопроводной сети при нестационарном течении требует больших вычислительных ресурсов. Каждый шаг расчета для разветвленной трубопроводной сети занимает большое количество времени и в ситуации с онлайн моделированием это недопустимо, так как данные приходят в реальном времени. Поэтому для ускорения расчета предлагается сделать следующее:

- Заменить модели трубопровода на ML модель, в основе которой лежит [нейронный оператор](Assets/2108.08481v6.pdf)
- Попробывать заменить другие модели трубопроводной сети на ML модели как в [статье Белинского](Assets/elibrary_80339507_30567452.pdf)
- Генерировать начальное приближение по давлению в узлах расчетного графа для ускорения сходимости метода Ньютона.


Основной пользователь:
- Компании разрабатывающие софт для онлайн симуляции равлетной трубопроводной сети и потребмтели данного софта


Организационная структура:
- Заказчик: организация или частное лицо, обеспечивающее существующую математическую модель трубопроводной сети.
- Команда проекта: ML инженер, backend-разработчик.

Коммуникация:
- Создание рабочих чатов в Mattermost.

Существующие решения:
- Статии Белинского. [Статья 1](Assets/elibrary_67327486_67384011.pdf). [Статья 2](Assets/elibrary_80339507_30567452.pdf)



## 1.1 Текущая ситуация (Assessing current solution)

Ресурсы:
- Все ресурсы имеются.

Данные:
- Генерация данных на основе существующего механизма расчета трубопроводной сети. Для генерации необходимо разработать алгоритм создания графа случайно трубопроодной сети.


Риски:
- Плохое качество данных: алгоритм генерации случайных графов создает графы не соответсвующие реальной трубопроводной сети.
- Аппаратных ресурсов не хватит: Возможно потребуется докупка оборубывания или перевод на более легкие LLM модели.
- Для расчета давления в узлах трубопроводной сети необходимо учитывать глобальное состояние графа, что может быть затруднительно для графовых нейронных сетей, особенно при размере графа свыше 10 000 узлов.


## 1.2 Решаемые задачи с точки зрения аналитики (Data Mining goals)

Метрики:

- Для задачи моделирования одиночного трубопровода - RMSE отностительно реальной значений расхода и давление.
- Для задачи предсказания начальных давлений в узлах трубопроводной сети — RMSE отностительно реальной значений давления в узлах, а также количество итераций метода Ньютона до достижения требуемой точности.


## 1.3 План проекта (Project Plan)
1.	Понимание задачи и бизнес-контекста
- Уточнение требований со стороны заказчика.
- Подробная декомпозиция задач, определение приоритетов.
2.	Оценка и подготовка данных
- Реализация алгоритма генерации случайных графов трубопроводных сетей.
- Проведение экспериментов по построению валидных симуляций.
- Получение целевых меток через существующую физическую модель.
3.	Моделирование
- Обучение нейронного оператора для одиночного трубопровода.
- Тестирование моделей начального приближения давления.
- Исследование применения GNN и других архитектур на больших графах.
4.	Оценка результатов
- Сравнение ML-моделей с физическими моделями по точности и скорости.
- Оценка времени сходимости метода Ньютона.
- Анализ обобщающей способности модели.
5.	Внедрение
- Разработка API для интеграции ML-модели в симулятор.
- Создание прототипа с визуализацией результатов.
6.	Поддержка и масштабирование
- Возможность адаптации под другие конфигурации трубопроводов.
- Тестирование в среде заказчика.

